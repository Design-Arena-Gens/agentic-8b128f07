<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kailash ? At the Feet of Lord Shiva</title>
    <meta name="description" content="A serene, respectful illustration: a man seated on Mount Kailash near the feet of Lord Shiva." />
    <meta name="theme-color" content="#0a0f1c" />
    <link rel="preload" href="./styles.css" as="style" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="page" role="main">
      <header class="header">
        <h1 class="title" aria-label="Kailash ? At the Feet of Lord Shiva">Kailash ? At the Feet of Lord Shiva</h1>
        <p class="subtitle">A calm, symbolic SVG scene</p>
      </header>

      <section class="art" aria-label="Illustration: a man seated at Mount Kailash near Lord Shiva's feet">
        <!-- Decorative background gradient and stars are CSS-driven -->
        <svg class="scene" viewBox="0 0 1200 800" role="img" aria-labelledby="sceneTitle sceneDesc">
          <title id="sceneTitle">Mount Kailash ? tranquil night scene</title>
          <desc id="sceneDesc">A stylized night sky with stars above Mount Kailash. A respectful symbolic depiction of Lord Shiva's feet in the foreground, and a small seated figure near them, conveying devotion and serenity.</desc>

          <!-- Sky glow -->
          <defs>
            <radialGradient id="skyGlow" cx="50%" cy="20%" r="60%">
              <stop offset="0%" stop-color="#334a7d" stop-opacity="0.9" />
              <stop offset="50%" stop-color="#18243f" stop-opacity="0.9" />
              <stop offset="100%" stop-color="#0a0f1c" />
            </radialGradient>
            <linearGradient id="mountainShade" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="#2a3754" />
              <stop offset="100%" stop-color="#111826" />
            </linearGradient>
            <linearGradient id="snowCap" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="#e9f1ff" />
              <stop offset="100%" stop-color="#c9d7ee" />
            </linearGradient>
          </defs>

          <!-- Sky background -->
          <rect x="0" y="0" width="1200" height="800" fill="url(#skyGlow)" />

          <!-- Stars -->
          <g class="stars" fill="#cfe0ff" opacity="0.9">
            <circle cx="100" cy="100" r="2" />
            <circle cx="180" cy="160" r="1.5" />
            <circle cx="260" cy="90" r="1.7" />
            <circle cx="350" cy="140" r="1.2" />
            <circle cx="430" cy="60" r="1.8" />
            <circle cx="520" cy="120" r="1.6" />
            <circle cx="610" cy="80" r="1.3" />
            <circle cx="700" cy="150" r="2" />
            <circle cx="780" cy="100" r="1.4" />
            <circle cx="860" cy="170" r="1.2" />
            <circle cx="940" cy="90" r="1.7" />
            <circle cx="1020" cy="140" r="1.5" />
            <circle cx="1100" cy="70" r="1.9" />
          </g>

          <!-- Mount Kailash silhouette with snow cap -->
          <g transform="translate(0, 60)">
            <path d="M150,600 C250,480 320,420 420,380 C520,340 600,340 700,380 C800,420 880,480 1000,600 L150,600 Z" fill="url(#mountainShade)"/>
            <path d="M450,420 C520,380 600,370 680,400 C650,390 610,388 580,392 C555,395 530,403 505,415 C490,422 470,428 450,420 Z" fill="url(#snowCap)" opacity="0.95" />
          </g>

          <!-- Trishul (symbol of Lord Shiva) subtly placed -->
          <g transform="translate(920, 270) scale(1.1)" fill="#d1d8f0" opacity="0.8" aria-label="Trishul symbol">
            <rect x="-6" y="0" width="12" height="180" rx="4" />
            <path d="M-60,20 C-20,-10 0,10 0,40 C0,10 20,-10 60,20" stroke="#d1d8f0" stroke-width="10" fill="none" stroke-linecap="round" />
            <circle cx="0" cy="50" r="8" fill="#d1d8f0" />
          </g>

          <!-- Symbolic feet of Lord Shiva (respectful, non-realistic silhouettes) -->
          <g transform="translate(360, 520)" aria-label="Symbolic feet of Lord Shiva">
            <ellipse cx="-40" cy="50" rx="70" ry="34" fill="#d9e2f9" opacity="0.95" />
            <ellipse cx="140" cy="50" rx="70" ry="34" fill="#d9e2f9" opacity="0.95" />
            <circle cx="-70" cy="30" r="10" fill="#e6edff" />
            <circle cx="-45" cy="28" r="10" fill="#e6edff" />
            <circle cx="-20" cy="26" r="10" fill="#e6edff" />
            <circle cx="5"  cy="28" r="10" fill="#e6edff" />
            <circle cx="30" cy="30" r="10" fill="#e6edff" />
            <circle cx="110" cy="30" r="10" fill="#e6edff" />
            <circle cx="135" cy="28" r="10" fill="#e6edff" />
            <circle cx="160" cy="26" r="10" fill="#e6edff" />
            <circle cx="185" cy="28" r="10" fill="#e6edff" />
            <circle cx="210" cy="30" r="10" fill="#e6edff" />
          </g>

          <!-- Devotee: small seated figure (silhouette) -->
          <g transform="translate(520, 560) scale(1)" aria-label="Seated devotee">
            <path d="M0,0 C10,-18 34,-18 44,0 C40,8 34,12 22,12 C10,12 4,8 0,0 Z" fill="#1d2436" />
            <rect x="10" y="12" width="24" height="24" rx="8" fill="#1d2436" />
            <path d="M5,36 C16,28 32,28 43,36 L43,44 L5,44 Z" fill="#1d2436" />
          </g>

          <!-- Foreground mist -->
          <g opacity="0.22">
            <ellipse cx="600" cy="690" rx="560" ry="90" fill="#cbd5f1" />
            <ellipse cx="600" cy="730" rx="620" ry="80" fill="#b9c6ea" />
          </g>
        </svg>
      </section>

      <footer class="footer" role="contentinfo">
        <p class="credit">Made with respect and serenity.</p>
        <button id="download" class="btn" aria-label="Download artwork as PNG">Download PNG</button>
      </footer>
    </main>

    <script>
      // Export SVG to PNG for download
      (function() {
        const btn = document.getElementById('download');
        const svg = document.querySelector('.scene');
        if (!btn || !svg) return;

        function svgToPngDataUrl(svgElement, width = 1200, height = 800) {
          const clone = svgElement.cloneNode(true);
          clone.setAttribute('width', width);
          clone.setAttribute('height', height);
          const serialized = new XMLSerializer().serializeToString(clone);
          const svgBlob = new Blob([serialized], { type: 'image/svg+xml;charset=utf-8' });
          return new Promise((resolve) => {
            const url = URL.createObjectURL(svgBlob);
            const img = new Image();
            img.onload = () => {
              const canvas = document.createElement('canvas');
              canvas.width = width;
              canvas.height = height;
              const ctx = canvas.getContext('2d');
              ctx.fillStyle = '#0a0f1c';
              ctx.fillRect(0, 0, width, height);
              ctx.drawImage(img, 0, 0, width, height);
              URL.revokeObjectURL(url);
              resolve(canvas.toDataURL('image/png'));
            };
            img.src = url;
          });
        }

        btn.addEventListener('click', async () => {
          btn.disabled = true;
          btn.textContent = 'Preparing?';
          try {
            const dataUrl = await svgToPngDataUrl(svg);
            const a = document.createElement('a');
            a.href = dataUrl;
            a.download = 'kailash-lord-shiva.png';
            document.body.appendChild(a);
            a.click();
            a.remove();
          } catch (e) {
            console.error(e);
            alert('Sorry, download failed.');
          } finally {
            btn.disabled = false;
            btn.textContent = 'Download PNG';
          }
        });
      })();
    </script>
  </body>
</html>
